{"ast":null,"code":"import _objectSpread from\"/Users/mikeys/development/projects/project-2/Project-2_Doggopedia/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/mikeys/development/projects/project-2/Project-2_Doggopedia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mikeys/development/projects/project-2/Project-2_Doggopedia/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/mikeys/development/projects/project-2/Project-2_Doggopedia/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{getAllDogs}from'../lib/api';import DogCard from'./DogCard';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DogIndex=function DogIndex(_ref){var search=_ref.search,setSearch=_ref.setSearch;var navigate=useNavigate();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),dogs=_React$useState2[0],setDogs=_React$useState2[1];React.useEffect(function(){var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$getAllDogs,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getAllDogs();case 3:_yield$getAllDogs=_context.sent;data=_yield$getAllDogs.data;/// using axios package. data is the key that we are using from API\nsetDogs(data);//console.log(data);\n_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getData(){return _ref2.apply(this,arguments);};}();getData();},[]);console.log(search);function filterDogs(){return dogs.filter(function(item){return item.name.toLowerCase().includes(search.toLowerCase());});}function handleChange(event){event.preventDefault();setSearch(event.target.value);}function handleClick(){navigate(0);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"body\",{className:\"dog-index-container\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field has-addons  \",id:\"searchinput\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,className:\"input is-rounded is-medium\",type:\"text\",placeholder:\"Search for breed\",value:search})}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:\"button is-info is-rounded is-medium\",children:\"Reset\"})})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"section\",id:\"dog-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container is-dark\",children:/*#__PURE__*/_jsx(\"div\",{className:\"columns is-multiline\",children:!dogs?/*#__PURE__*/_jsx(\"p\",{children:\" Loading...\"}):filterDogs().map(function(item){return/*#__PURE__*/_jsx(DogCard,_objectSpread({},item),item.id);})})})})]})});};export default DogIndex;","map":{"version":3,"sources":["/Users/mikeys/development/projects/project-2/Project-2_Doggopedia/src/components/DogIndex.js"],"names":["React","getAllDogs","DogCard","useNavigate","DogIndex","search","setSearch","navigate","useState","dogs","setDogs","useEffect","getData","data","console","error","log","filterDogs","filter","item","name","toLowerCase","includes","handleChange","event","preventDefault","target","value","handleClick","map","id"],"mappings":"8lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,YAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,6IAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAA2B,IAAxBC,CAAAA,MAAwB,MAAxBA,MAAwB,CAAhBC,SAAgB,MAAhBA,SAAgB,CAC1C,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,oBAAwBH,KAAK,CAACQ,QAAN,CAAe,IAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBAEAV,KAAK,CAACW,SAAN,CAAgB,UAAM,CACpB,GAAMC,CAAAA,OAAO,2FAAG,oMAEWX,CAAAA,UAAU,EAFrB,wCAEJY,IAFI,mBAEJA,IAFI,CAEyB;AACrCH,OAAO,CAACG,IAAD,CAAP,CACA;AAJY,+EAMZC,OAAO,CAACC,KAAR,cANY,oEAAH,kBAAPH,CAAAA,OAAO,2CAAb,CASAA,OAAO,GACR,CAXD,CAWG,EAXH,EAYAE,OAAO,CAACE,GAAR,CAAYX,MAAZ,EAEA,QAASY,CAAAA,UAAT,EAAsB,CACpB,MAAOR,CAAAA,IAAI,CAACS,MAAL,CAAY,SAACC,IAAD,QACjBA,CAAAA,IAAI,CAACC,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiCjB,MAAM,CAACgB,WAAP,EAAjC,CADiB,EAAZ,CAAP,CAGD,CAED,QAASE,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3BA,KAAK,CAACC,cAAN,GACAnB,SAAS,CAACkB,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAT,CACD,CAED,QAASC,CAAAA,WAAT,EAAuB,CACrBrB,QAAQ,CAAC,CAAD,CAAR,CACD,CAED,mBACE,sCACE,cAAM,SAAS,CAAC,qBAAhB,wBACE,gBAAS,SAAS,CAAC,SAAnB,uBACE,aAAK,SAAS,CAAC,oBAAf,CAAoC,EAAE,CAAC,aAAvC,wBACE,YAAK,SAAS,CAAC,SAAf,uBACE,cACE,QAAQ,CAAEgB,YADZ,CAEE,SAAS,CAAC,4BAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,kBAJd,CAKE,KAAK,CAAElB,MALT,EADF,EADF,cAUE,YAAK,SAAS,CAAC,SAAf,uBACE,eACE,OAAO,CAAEuB,WADX,CAEE,SAAS,CAAC,qCAFZ,mBADF,EAVF,GADF,EADF,cAuBE,gBAAS,SAAS,CAAC,SAAnB,CAA6B,EAAE,CAAC,aAAhC,uBACE,YAAK,SAAS,CAAC,mBAAf,uBACE,YAAK,SAAS,CAAC,sBAAf,UACG,CAACnB,IAAD,cACC,kCADD,CAGCQ,UAAU,GAAGY,GAAb,CAAiB,SAACV,IAAD,qBAAU,KAAC,OAAD,kBAA2BA,IAA3B,EAAcA,IAAI,CAACW,EAAnB,CAAV,EAAjB,CAJJ,EADF,EADF,EAvBF,GADF,EADF,CAuCD,CAxED,CA0EA,cAAe1B,CAAAA,QAAf","sourcesContent":["import React from 'react';\nimport { getAllDogs } from '../lib/api';\nimport DogCard from './DogCard';\nimport { useNavigate } from 'react-router-dom';\n\nconst DogIndex = ({ search, setSearch }) => {\n  const navigate = useNavigate();\n  const [dogs, setDogs] = React.useState(null);\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllDogs(); /// using axios package. data is the key that we are using from API\n        setDogs(data);\n        //console.log(data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    getData();\n  }, []);\n  console.log(search);\n\n  function filterDogs() {\n    return dogs.filter((item) =>\n      item.name.toLowerCase().includes(search.toLowerCase())\n    );\n  }\n\n  function handleChange(event) {\n    event.preventDefault();\n    setSearch(event.target.value);\n  }\n\n  function handleClick() {\n    navigate(0);\n  }\n\n  return (\n    <>\n      <body className=\"dog-index-container\">\n        <section className=\"section\">\n          <div className=\"field has-addons  \" id=\"searchinput\">\n            <div className=\"control\">\n              <input\n                onChange={handleChange}\n                className=\"input is-rounded is-medium\"\n                type=\"text\"\n                placeholder=\"Search for breed\"\n                value={search}\n              />\n            </div>\n            <div className=\"control\">\n              <button\n                onClick={handleClick}\n                className=\"button is-info is-rounded is-medium\"\n              >\n                Reset\n              </button>\n            </div>\n          </div>\n        </section>\n\n        <section className=\"section\" id=\"dog-section\">\n          <div className=\"container is-dark\">\n            <div className=\"columns is-multiline\">\n              {!dogs ? (\n                <p> Loading...</p>\n              ) : (\n                filterDogs().map((item) => <DogCard key={item.id} {...item} />)\n              )}\n            </div>\n          </div>\n        </section>\n      </body>\n    </>\n  );\n};\n\nexport default DogIndex;\n"]},"metadata":{},"sourceType":"module"}